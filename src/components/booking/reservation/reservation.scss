@use "../../../styles/base/variables" as var;

input {
  border: none;
  border-bottom: 1px solid var.$color-neutral-500;
  padding: 14px 0;
  padding-left: 16px;
  background-color: transparent;
}

#res-name,
#res-email {
  width: 100%;
}

input:not(#res-name, #res-email) {
  max-width: 73px;
  margin-right: 14px;
}

.reservation {
  padding-inline: var.$section-padding-sides;
  background-color: var.$light-background;
//   max-height: 615px;

  &__container {
    padding: 32px;
    background-color: var.$color-neutral;
    position: relative;
    max-width: 540px;
    margin: -220px auto 0; // overlap previous section
  }

  &__group {
    border: none;
    margin-bottom: 35px;
  }

  &__date,
  &__time {
    display: flex;
    align-items: center;
  }

  &__label {
    padding-bottom: 14px;
  }

  &__control {
    width: 5px;
    height: 24px;
    border: none;
    background-color: transparent;
    cursor: pointer;

    &:focus {
      outline: none;
    }

    &:focus-visible {
      outline: 2px solid var.$color-neutral-500;
      outline-offset: 2px;
    }

    &--minus {
      background-image: url("/src/assets/images/reservation/icon-minus.svg");
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
    }

    &--plus {
      background-image: url("/src/assets/images/reservation/icon-plus.svg");
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
    }
  }

  &__people {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var.$color-neutral-500;
    padding-bottom: 16px;
    margin-bottom: 32px;
    padding-inline: 20px;
    font-size: var.$font-size-lg;
    font-weight: var.$font-weight-bold;
  }

  &__submit {
    color: var.$color-neutral;
    background-color: var.$color-cod-gray;
    padding: 1.5625rem 3.4375rem;
    border: 1px solid var.$color-neutral;
    width: 100%;
  }

  // Custom dropdown styles
  &__custom-select {
    position: relative;
    display: inline-block;
    width: 73px; // same as hour/minute inputs
    margin-left: 14px;
    cursor: pointer;

    &__trigger {
      border: none;
      border-bottom: 1px solid var.$color-neutral-500;
      padding: 14px 0 14px 16px;
      width: 100%;
      background: transparent
        url("/src/assets/images/reservation/icon-arrow.svg") no-repeat right
        1rem center;
      background-size: 16px 8px;
      font-size: var.$font-size-md;
      text-align: left;
    }

    &__options {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background-color: var.$color-neutral;
      border: 1px solid var.$color-neutral-500;
      z-index: 10;
      margin-top: 4px;
    }

    &__option {
      padding: 8px 12px;
      cursor: pointer;

      &:hover {
        background-color: var.$color-neutral-500;
        color: var.$color-neutral;
      }
    }

    &--open &__options {
      display: block;
    }
  }

  // Media queries
  @media (min-width: 768px) {
    &__group {
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 20px;

      & > .reservation__label {
        padding-bottom: 0;
      }
    }
  }

  @media (min-width: 1440px) {
    &__container {
      top: -430px;
      right: -280px;
    }
    max-height: 320px;
  }
}

/* Wrap each input or group to align errors */
.reservation__field {
  display: flex;
  flex-direction: column;
  margin-bottom: 16px; /* space between fields */
  position: relative;
}

/* Error message styling */
.reservation__error {
  color: red;
  font-size: 0.875rem;
  margin: 4px 0 0 0; /* small margin right under the input */
  line-height: 1.2;
}

/* New invalid state styles */
.reservation__input--invalid {
  border-bottom: 1px solid red;
}

.reservation__field--invalid {
  border-bottom: 1px solid red;
}
